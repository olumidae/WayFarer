{"version":3,"sources":["../../../server/models/db/migration.js"],"names":["createTables","pool","query"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA,IAAMA,YAAY,swCAAlB;;;AAuCAC,eAAKC,KAAL,CAAWF,YAAX","sourcesContent":["import pool from './db';\n\nconst createTables = `DROP TABLE IF EXISTS users CASCADE;\n  CREATE TABLE users(\n    id SERIAL PRIMARY KEY NOT NULL,\n    email VARCHAR(128) UNIQUE NOT NULL,\n    first_name VARCHAR(128),\n    last_name VARCHAR(128),\n    password VARCHAR NOT NULL,\n    is_admin BOOLEAN NOT NULL DEFAULT false,\n    is_loggedin BOOLEAN NOT NULL DEFAULT false\n  );\n  DROP TABLE IF EXISTS bus CASCADE;\n  CREATE TABLE bus(\n    id SERIAL PRIMARY KEY NOT NULL,\n    number_plate VARCHAR(15) UNIQUE NOT NULL,\n    manufacturer VARCHAR(100) NOT NULL,\n    model VARCHAR(100) NOT NULL,\n    year VARCHAR(6) NOT NULL,\n    capacity SMALLINT NOT NULL\n  );\n  DROP TABLE IF EXISTS trip CASCADE;\n  CREATE TABLE trip(\n    id SERIAL PRIMARY KEY NOT NULL,\n    bus_id SERIAL NOT NULL REFERENCES bus (id),\n    origin VARCHAR(100) NOT NULL,\n    destination VARCHAR(100) NOT NULL,\n    trip_date DATE NOT NULL,\n    fare NUMERIC(10, 2) NOT NULL,\n    status VARCHAR(10) NOT NULL DEFAULT 'active'\n  );\n  DROP TABLE IF EXISTS booking CASCADE;\n  CREATE TABLE booking(\n    id SERIAL PRIMARY KEY NOT NULL,\n    trip_id SERIAL NOT NULL  REFERENCES trip (id),\n    user_id SERIAL NOT NULL  REFERENCES users (id),\n    seat_number SMALLINT NOT NULL,\n    created_on DATE NOT NULL DEFAULT CURRENT_DATE\n  );`;\n\n\npool.query(createTables);\n"],"file":"migration.js"}